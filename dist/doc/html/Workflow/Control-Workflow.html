<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Workflow</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Workflow.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Workflow-0.8.2: Workflow patterns over a monad for thread state logging &amp; recovery</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Control.Workflow</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Start/restart workflows</a></li><li><a href="#g:2">Lifting to the Workflow monad</a></li><li><a href="#g:3">References to intermediate values in the workflow log</a></li><li><a href="#g:4">State manipulation</a></li><li><a href="#g:5">Workflow inspection</a></li><li><a href="#g:6">Persistent timeouts</a></li><li><a href="#g:7">Trace logging</a></li><li><a href="#g:8">Termination of workflows</a></li><li><a href="#g:9">Log writing policy</a></li><li><a href="#g:10">Print log history</a></li><li><a href="#g:11">Low leve, internal use</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A workflow can be seen as a persistent thread.
The workflow monad writes a log that permit to restore the thread
at the interrupted point. <code><a href="Control-Workflow.html#v:step">step</a></code> is the (partial) monad transformer for
the Workflow monad. A workflow is defined by its name and, optionally
by the key of the single parameter passed. There primitives for starting workflows
also restart the interrupted workflow when it has been in execution previously.</p><p>A small example that print the sequence of integers in te console
if you interrupt the progam, when restarted again, it will
start from the last  printed number</p><pre>module Main where
import Control.Workflow
import Control.Concurrent(threadDelay)
import System.IO (hFlush,stdout)

mcount n= do <code><a href="Control-Workflow.html#v:step">step</a></code> $  do
                       putStr (show n ++ &quot; &quot;)
                       hFlush stdout
                       threadDelay 1000000
             mcount (n+1)
             return () -- to disambiguate the return type

main= <code><a href="Control-Workflow.html#v:exec1">exec1</a></code>  &quot;count&quot;  $ mcount (0 :: Int)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runghc demos\sequence.hs
</code></strong>&gt;0 1 2 3
&gt;CTRL-C Pressed
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runghc demos\sequence.hs
</code></strong>&gt;3 4 5 6 7
&gt;CTRL-C Pressed
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runghc demos\sequence.hs
</code></strong>&gt;7 8 9 10 11
...
</pre><p>The program restart  at the last saved step.</p><p>As you can see, some side effect can be re-executed after recovery if
the log is not complete. This may happen after an unexpected shutdown (in this case)
or due to an asynchronous log writing policy. (see <code><a href="Control-Workflow.html#v:syncWrite">syncWrite</a></code>)</p><p>When the step results are big and complex, use the <a href="Data-RefSerialize.html">Data.RefSerialize</a> package to define  the (de)serialization instances
The log size will be reduced. showHistory` method will print the structure changes
in each step.</p><p>If instead of <code>RefSerialize</code>, you use read and show instances, there will
 be no reduction. but still it will work, and the log will be readable for debugging purposes.
 The RefSerialize istance is automatically derived from Read, Show instances.</p><p>Data.Binary instances are also fine for serialization. To use Binary, just define a binary instance
of your data by using <code>showpBinary</code> and <code>readpBinary</code>.</p><p>Within the RefSerialize instance of a structure, you can freely mix
Show,Read  RefSerialize and Data Binary instances.</p><p><a href="Control-Workflow-Patterns.html">Control.Workflow.Patterns</a>  contains higher level workflow patterns for handling multiple workflows</p><p><a href="Control-Workflow-Configuration.html">Control.Workflow.Configuration</a> permits the use of workflows for configuration purposes</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Stat">Stat</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Workflow">Workflow</a> m = <a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> m</li><li class="src short"><span class="keyword">type</span> <a href="#t:WorkflowList">WorkflowList</a> m a b = <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b)</li><li class="src short"><span class="keyword">class</span> <a href="#t:PMonadTrans">PMonadTrans</a> t m a <span class="keyword">where</span><ul class="subs"><li><a href="#v:plift">plift</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; m a -&gt; t m a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:MonadCatchIO">MonadCatchIO</a> m a <span class="keyword">where</span><ul class="subs"><li><a href="#v:catch">catch</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</li><li><a href="#v:block">block</a> :: m a -&gt; m a</li><li><a href="#v:unblock">unblock</a> :: m a -&gt; m a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io =&gt; <a href="#t:HasFork">HasFork</a> io <span class="keyword">where</span><ul class="subs"><li><a href="#v:fork">fork</a> :: io () -&gt; io <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Concurrent.html#t:ThreadId">ThreadId</a></li></ul></li><li class="src short"><a href="#v:throw">throw</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#t:Exception">Exception</a> e) =&gt; e -&gt; m a</li><li class="src short"><span class="keyword">class</span> <a href="#t:Indexable">Indexable</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:key">key</a> :: a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></li><li><a href="#v:defPath">defPath</a> :: a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></li></ul></li><li class="src short"><a href="#v:keyWF">keyWF</a> :: <a href="Control-Workflow.html#t:Indexable">Indexable</a> a =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:start">start</a> :: (MonadCatch m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b) -&gt; a -&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a> b)</li><li class="src short"><a href="#v:exec">exec</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b) -&gt; a -&gt; m b</li><li class="src short"><a href="#v:exec1d">exec1d</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b -&gt; m b</li><li class="src short"><a href="#v:exec1">exec1</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a -&gt; m a</li><li class="src short"><a href="#v:exec1nc">exec1nc</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadMask m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a -&gt; m a</li><li class="src short"><a href="#v:wfExec">wfExec</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, MonadCatch m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a</li><li class="src short"><a href="#v:startWF">startWF</a> :: (MonadCatch m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, Serialize a, Serialize b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="Control-Workflow.html#t:WorkflowList">WorkflowList</a> m a b -&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a> b)</li><li class="src short"><a href="#v:restartWorkflows">restartWorkflows</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> b) -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:WFErrors">WFErrors</a><ul class="subs"><li>= <a href="#v:NotFound">NotFound</a></li><li>| <a href="#v:AlreadyRunning">AlreadyRunning</a></li><li>| <a href="#v:Timeout">Timeout</a></li><li>| <a href="#v:WFException">WFException</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></li></ul></li><li class="src short"><a href="#v:step">step</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; m a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a</li><li class="src short"><a href="#v:getWFStat">getWFStat</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (DBRef <a href="Control-Workflow.html#t:Stat">Stat</a>)</li><li class="src short"><a href="#v:stepExec">stepExec</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> t, Serialize t, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; DBRef <a href="Control-Workflow.html#t:Stat">Stat</a> -&gt; m t -&gt; m (DBRef <a href="Control-Workflow.html#t:Stat">Stat</a>, t)</li><li class="src short"><a href="#v:unsafeIOtoWF">unsafeIOtoWF</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:WFRef">WFRef</a> a</li><li class="src short"><a href="#v:newWFRef">newWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</li><li class="src short"><a href="#v:stepWFRef">stepWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; m a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a, a)</li><li class="src short"><a href="#v:readWFRef">readWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="Control-Workflow.html#t:WFRef">WFRef</a> a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:writeWFRef">writeWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="Control-Workflow.html#t:WFRef">WFRef</a> a -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> ()</li><li class="src short"><a href="#v:moveState">moveState</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:waitWFActive">waitWFActive</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> ()</li><li class="src short"><a href="#v:getAll">getAll</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m [IDynamic]</li><li class="src short"><a href="#v:safeFromIDyn">safeFromIDyn</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * a, Serialize a) =&gt; IDynamic -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> a</li><li class="src short"><a href="#v:getWFKeys">getWFKeys</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> [<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</li><li class="src short"><a href="#v:getWFHistory">getWFHistory</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Control-Workflow.html#t:Stat">Stat</a>)</li><li class="src short"><a href="#v:waitFor">waitFor</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, Serialize b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="Control-Workflow.html#t:Indexable">Indexable</a> b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> b) =&gt; (b -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> b</li><li class="src short"><a href="#v:waitForSTM">waitForSTM</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, Serialize b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="Control-Workflow.html#t:Indexable">Indexable</a> b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> b) =&gt; (b -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> b</li><li class="src short"><a href="#v:waitUntilSTM">waitUntilSTM</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:TVar">TVar</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> ()</li><li class="src short"><a href="#v:getTimeoutFlag">getTimeoutFlag</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:TVar">TVar</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</li><li class="src short"><a href="#v:withTimeout">withTimeout</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, Serialize a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:withKillTimeout">withKillTimeout</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:logWF">logWF</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m ()</li><li class="src short"><a href="#v:clearRunningFlag">clearRunningFlag</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; [<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Char.html#t:Char">Char</a>] -&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Concurrent.html#t:ThreadId">ThreadId</a>), <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Concurrent.html#t:ThreadId">ThreadId</a>)</li><li class="src short"><a href="#v:killThreadWF">killThreadWF</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:killWF">killWF</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:delWF">delWF</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:killThreadWF1">killThreadWF1</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:delWFHistory">delWFHistory</a> :: <a href="Control-Workflow.html#t:Indexable">Indexable</a> a =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:delWFHistory1">delWFHistory1</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:syncWrite">syncWrite</a> :: <a href="Control-Workflow.html#t:SyncMode">SyncMode</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:SyncMode">SyncMode</a> :: *<ul class="subs"><li>= <a href="#v:Synchronous">Synchronous</a></li><li>| <a href="#v:Asyncronous">Asyncronous</a> { <ul class="subs"><li><a href="#v:frecuency">frecuency</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:check">check</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:cacheSize">cacheSize</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li></ul> }</li><li>| <a href="#v:SyncManual">SyncManual</a></li></ul></li><li class="src short"><a href="#v:showHistory">showHistory</a> :: <a href="Control-Workflow.html#t:Stat">Stat</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:isInRecover">isInRecover</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:runWF1">runWF1</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> m b -&gt; <a href="Control-Workflow.html#t:Stat">Stat</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> -&gt; m b</li><li class="src short"><a href="#v:getState">getState</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; x -&gt; a -&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>, x, <a href="Control-Workflow.html#t:Stat">Stat</a>))</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Stat" class="def">Stat</a></p><div class="subs instances"><p id="control.i:Stat" class="caption collapser" onclick="toggleSection('i:Stat')">Instances</p><div id="section.i:Stat" class="show"><table><tr><td class="src">IResource <a href="Control-Workflow.html#t:Stat">Stat</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Serialize <a href="Control-Workflow.html#t:Stat">Stat</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Control-Workflow.html#t:Stat">Stat</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * a) =&gt; <a href="Control-Workflow.html#t:PMonadTrans">PMonadTrans</a> (<a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a>) m a</td><td class="doc"><pre>plift= step</pre></td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Control-Workflow.html#t:HasFork">HasFork</a> io, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io, MonadCatch io) =&gt; <a href="Control-Workflow.html#t:HasFork">HasFork</a> (<a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> io)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Workflow" class="def">Workflow</a> m = <a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> m</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:WorkflowList" class="def">WorkflowList</a> m a b = <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b)</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:PMonadTrans" class="def">PMonadTrans</a> t m a <span class="keyword">where</span></p><div class="doc"><p><code>PMonadTrans</code> permits |to define a partial monad transformer. They are not defined for all kinds of data
but the ones that have instances of certain classes.That is because in the lift instance code there are some
hidden use of these classes.  This also may permit an accurate control of effects.
An instance of MonadTrans is an instance of PMonadTrans</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:plift" class="def">plift</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; m a -&gt; t m a</p></div><div class="subs instances"><p id="control.i:PMonadTrans" class="caption collapser" onclick="toggleSection('i:PMonadTrans')">Instances</p><div id="section.i:PMonadTrans" class="show"><table><tr><td class="src">(<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> t, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Control-Workflow.html#t:PMonadTrans">PMonadTrans</a> t m a</td><td class="doc"><p>An instance of MonadTrans is an instance of PMonadTrans</p></td></tr><tr><td class="src">(<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * a) =&gt; <a href="Control-Workflow.html#t:PMonadTrans">PMonadTrans</a> (<a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a>) m a</td><td class="doc"><pre>plift= step</pre></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:MonadCatchIO" class="def">MonadCatchIO</a> m a <span class="keyword">where</span></p><div class="doc"><p>Adapted from the <code>MonadCatchIO-mtl</code> package. However, in this case it is needed to express serializable constraints about the  returned values,
so the usual class definitions for lifting IO functions are not suitable.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:catch" class="def">catch</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</p><div class="doc"><p>Generalized version of <code><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#v:catch">catch</a></code></p></div><p class="src"><a name="v:block" class="def">block</a> :: m a -&gt; m a</p><div class="doc"><p>Generalized version of <code><a href="E.html#v:block">block</a></code></p></div><p class="src"><a name="v:unblock" class="def">unblock</a> :: m a -&gt; m a</p><div class="doc"><p>Generalized version of <code><a href="E.html#v:unblock">unblock</a></code></p></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io =&gt; <a name="t:HasFork" class="def">HasFork</a> io <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:fork" class="def">fork</a> :: io () -&gt; io <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Concurrent.html#t:ThreadId">ThreadId</a></p></div><div class="subs instances"><p id="control.i:HasFork" class="caption collapser" onclick="toggleSection('i:HasFork')">Instances</p><div id="section.i:HasFork" class="show"><table><tr><td class="src"><a href="Control-Workflow.html#t:HasFork">HasFork</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Control-Workflow.html#t:HasFork">HasFork</a> io, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io, MonadCatch io) =&gt; <a href="Control-Workflow.html#t:HasFork">HasFork</a> (<a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> io)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:throw" class="def">throw</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#t:Exception">Exception</a> e) =&gt; e -&gt; m a</p><div class="doc"><p>Generalized version of <code><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#v:throwIO">throwIO</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Indexable" class="def">Indexable</a> a <span class="keyword">where</span></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Control-Workflow.html#v:key">key</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:key" class="def">key</a> :: a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></p><p class="src"><a name="v:defPath" class="def">defPath</a> :: a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></p></div><div class="subs instances"><p id="control.i:Indexable" class="caption collapser" onclick="toggleSection('i:Indexable')">Instances</p><div id="section.i:Indexable" class="show"><table><tr><td class="src"><a href="Control-Workflow.html#t:Indexable">Indexable</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Workflow.html#t:Indexable">Indexable</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Workflow.html#t:Indexable">Indexable</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Workflow.html#t:Indexable">Indexable</a> ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Workflow.html#t:Indexable">Indexable</a> (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:keyWF" class="def">keyWF</a> :: <a href="Control-Workflow.html#t:Indexable">Indexable</a> a =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></p><div class="doc"><p>Return the unique name of a workflow with a parameter (executed with exec or start)</p></div></div><h1 id="g:1">Start/restart workflows</h1><div class="top"><p class="src"><a name="v:start" class="def">start</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (MonadCatch m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>name that identifies the workflow.</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b)</td><td class="doc"><p>workflow to execute</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>initial value (ever use the initial value for restarting the workflow)</p></td></tr><tr><td class="src">-&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a> b)</td><td class="doc"><p>result of the computation</p></td></tr></table></div><div class="doc"><p>Start or continue a workflow  .
  <code><a href="Control-Workflow.html#t:WFErrors">WFErrors</a></code> and exceptions are returned as <code>Left err</code> (even if they were triggered as exceptions).
 Other exceptions are returned as <code>Left (Exception e)</code>
 use <code><a href="Control-Workflow.html#v:killWF">killWF</a></code> or <code><a href="Control-Workflow.html#v:delWF">delWF</a></code> in case of error to clear the log.</p></div></div><div class="top"><p class="src"><a name="v:exec" class="def">exec</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b) -&gt; a -&gt; m b</p><div class="doc"><p>Start or continue a workflow with exception handling
  the workflow flags are updated even in case of exception
  <code>WFerrors</code> are raised as exceptions</p></div></div><div class="top"><p class="src"><a name="v:exec1d" class="def">exec1d</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m b -&gt; m b</p><div class="doc"><p>A version of exec1 that deletes its state after complete execution or thread killed</p></div></div><div class="top"><p class="src"><a name="v:exec1" class="def">exec1</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a -&gt; m a</p><div class="doc"><p>A version of exec with no seed parameter.</p></div></div><div class="top"><p class="src"><a name="v:exec1nc" class="def">exec1nc</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadMask m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a -&gt; m a</p><div class="doc"><p>executes a workflow, but does not mark it as finished even if
 the process ended.
 It this case, the workflow just will return the last result.
 If the workflow was gathering data from user questions for a configuration, then this
 primitive will store them in the log the first time, and can be retrieve it the next time.</p></div></div><div class="top"><p class="src"><a name="v:wfExec" class="def">wfExec</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, MonadCatch m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a</p><div class="doc"><p>Start or restart an anonymous workflow inside another workflow.
  Its state is deleted when finished and the result is stored in
  the parent's WF state.</p></div></div><div class="top"><p class="src"><a name="v:startWF" class="def">startWF</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (MonadCatch m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, Serialize a, Serialize b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Name of workflow in the workflow list</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Initial value (ever use the initial value even to restart the workflow)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Workflow.html#t:WorkflowList">WorkflowList</a> m a b</td><td class="doc"><p>function to execute</p></td></tr><tr><td class="src">-&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a> b)</td><td class="doc"><p>Result of the computation</p></td></tr></table></div><div class="doc"><p>Start or continue a workflow  from a list of workflows  with exception handling.
  see <code><a href="Control-Workflow.html#v:start">start</a></code> for details about exception and error handling</p></div></div><div class="top"><p class="src"><a name="v:restartWorkflows" class="def">restartWorkflows</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> b) -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Re-start the non finished workflows in the list, for all the initial values
 that they may have been invoked. The list contain he identifiers of the workflows and
 the procedures to be called. All the workflows initiated with exec* or start* will be
 restarted with all possible seed values.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WFErrors" class="def">WFErrors</a></p><div class="doc"><p>Return conditions from the invocation of start/restart primitives</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NotFound" class="def">NotFound</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AlreadyRunning" class="def">AlreadyRunning</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Timeout" class="def">Timeout</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:WFException" class="def">WFException</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:WFErrors" class="caption collapser" onclick="toggleSection('i:WFErrors')">Instances</p><div id="section.i:WFErrors" class="show"><table><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Control-Workflow.html#t:WFErrors">WFErrors</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Lifting to the Workflow monad</h1><div class="top"><p class="src"><a name="v:step" class="def">step</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; m a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a</p><div class="doc"><p>Lifts a monadic computation  to the WF monad, and provides  transparent state loging and  resuming the computation
 Note: Side effect can be repeated at recovery time if the log was not complete before shut down
 see the integer sequence example, above.</p></div></div><div class="top"><p class="src"><a name="v:getWFStat" class="def">getWFStat</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (DBRef <a href="Control-Workflow.html#t:Stat">Stat</a>)</p></div><div class="top"><p class="src"><a name="v:stepExec" class="def">stepExec</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> t, Serialize t, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; DBRef <a href="Control-Workflow.html#t:Stat">Stat</a> -&gt; m t -&gt; m (DBRef <a href="Control-Workflow.html#t:Stat">Stat</a>, t)</p></div><div class="top"><p class="src"><a name="v:unsafeIOtoWF" class="def">unsafeIOtoWF</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m a</p><div class="doc"><p>Executes a  computation inside of the workflow monad whatever the monad encapsulated in the workflow.
 Warning: this computation is executed whenever
 the workflow restarts, no matter if it has been already executed previously. This is useful for intializations or debugging.
 To avoid re-execution when restarting  use:   <code><code><a href="Control-Workflow.html#v:step">step</a></code> $  unsafeIOtoWF...</code></p><p>To perform IO actions in a workflow that encapsulates an IO monad, use step over the IO action directly:</p><pre> <code><a href="Control-Workflow.html#v:step">step</a></code> $ action</pre><p>instead   of</p><pre>  <code><a href="Control-Workflow.html#v:step">step</a></code> $ unsafeIOtoWF $ action</pre></div></div><h1 id="g:3">References to intermediate values in the workflow log</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WFRef" class="def">WFRef</a> a</p><div class="subs instances"><p id="control.i:WFRef" class="caption collapser" onclick="toggleSection('i:WFRef')">Instances</p><div id="section.i:WFRef" class="show"><table><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Workflow.html#t:Indexable">Indexable</a> (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Serialize (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (* -&gt; *) <a href="Control-Workflow.html#t:WFRef">WFRef</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newWFRef" class="def">newWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a)</p><div class="doc"><p>Log a value in the workflow log and return a reference to it.</p><pre>newWFRef x= <code><a href="Control-Workflow.html#v:stepWFRef">stepWFRef</a></code> (return  x) &gt;&gt;= return . fst</pre></div></div><div class="top"><p class="src"><a name="v:stepWFRef" class="def">stepWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; m a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="Control-Workflow.html#t:WFRef">WFRef</a> a, a)</p><div class="doc"><p>Execute  an step and return a reference to the result besides the result itself</p></div></div><div class="top"><p class="src"><a name="v:readWFRef" class="def">readWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="Control-Workflow.html#t:WFRef">WFRef</a> a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a)</p><div class="doc"><p>Read the content of a Workflow reference. Note that its result is not in the Workflow monad</p></div></div><h1 id="g:4">State manipulation</h1><div class="top"><p class="src"><a name="v:writeWFRef" class="def">writeWFRef</a> :: (Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="Control-Workflow.html#t:WFRef">WFRef</a> a -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> ()</p><div class="doc"><p>Writes a new value en in the workflow reference, that is, in the workflow log.
 Why would you use this?.  Don't do that!. modifiying the content of the workflow log would
 change the excution flow  when the workflow restarts. This metod is used internally in the package.
 The best way to communicate with a workflow is trough a persistent queue, using <a href="Data-Persistent-Collection.html">Data.Persistent.Collection</a>:</p><pre>worflow= exec1 &quot;wf&quot; do
         r &lt;- <code><a href="Control-Workflow.html#v:stepWFRef">stepWFRef</a></code>  expr
         <code>push</code> &quot;queue&quot; r
         back &lt;- <code>pop</code> &quot;queueback&quot;
         ...
</pre></div></div><div class="top"><p class="src"><a name="v:moveState" class="def">moveState</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; a -&gt; m ()</p><div class="doc"><p>Moves the state of workflow with a seed value to become the state of other seed value
 This may be of interest when the  entry value
 changes its key value but  should not initiate a new workflow
 but continues with the current one</p></div></div><h1 id="g:5">Workflow inspection</h1><div class="top"><p class="src"><a name="v:waitWFActive" class="def">waitWFActive</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> ()</p><div class="doc"><p>wait until the workflow is restarted</p></div></div><div class="top"><p class="src"><a name="v:getAll" class="def">getAll</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m [IDynamic]</p><div class="doc"><p>Return all the steps of the workflow log. The values are dynamic</p><p>to get all the steps  with result of type Int:
  <code>all &lt;- <code><a href="Control-Workflow.html#v:getAll">getAll</a></code>
  let lfacts =  mapMaybe <code><a href="Control-Workflow.html#v:safeFromIDyn">safeFromIDyn</a></code> all :: [Int]</code></p></div></div><div class="top"><p class="src"><a name="v:safeFromIDyn" class="def">safeFromIDyn</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * a, Serialize a) =&gt; IDynamic -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> a</p></div><div class="top"><p class="src"><a name="v:getWFKeys" class="def">getWFKeys</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> [<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</p><div class="doc"><p>Return the keys  of the workflows that are running with a given prefix</p></div></div><div class="top"><p class="src"><a name="v:getWFHistory" class="def">getWFHistory</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Control-Workflow.html#t:Stat">Stat</a>)</p><div class="doc"><p>Return the current state of the computation, in the IO monad</p></div></div><div class="top"><p class="src"><a name="v:waitFor" class="def">waitFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, Serialize b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="Control-Workflow.html#t:Indexable">Indexable</a> b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (b -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>The condition that the retrieved object must meet</p></td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>The workflow name</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>the INITIAL value used in the workflow to start it</p></td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> b</td><td class="doc"><p>The first event that meet the condition</p></td></tr></table></div><div class="doc"><p>Observe the workflow log until a condition is met.</p></div></div><div class="top"><p class="src"><a name="v:waitForSTM" class="def">waitForSTM</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, Serialize b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="Control-Workflow.html#t:Indexable">Indexable</a> b, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (b -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>The condition that the retrieved object must meet</p></td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>The workflow name</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>The INITIAL value used in the workflow</p></td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> b</td><td class="doc"><p>The first event that meet the condition</p></td></tr></table></div></div><h1 id="g:6">Persistent timeouts</h1><div class="top"><p class="src"><a name="v:waitUntilSTM" class="def">waitUntilSTM</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:TVar">TVar</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> ()</p><div class="doc"><p>Wait until a certain clock time has passed by monitoring its flag,  in the STM monad.
   This permits to compose timeouts with locks waiting for data using <code><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#v:orElse">orElse</a></code></p><ul><li>example: wait for any respoinse from a Queue  if no response is given in 5 minutes, it is returned True.</li></ul><pre>  flag &lt;- <code><a href="Control-Workflow.html#v:getTimeoutFlag">getTimeoutFlag</a></code> $  5 * 60
  ap   &lt;- <code><a href="Control-Workflow.html#v:step">step</a></code>  .  atomically $  readSomewhere &gt;&gt;= return . Just  <code><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#v:orElse">orElse</a></code>  <code><a href="Control-Workflow.html#v:waitUntilSTM">waitUntilSTM</a></code> flag  &gt;&gt; return Nothing
  case ap of
       Nothing -&gt; do <code><a href="Control-Workflow.html#v:logWF">logWF</a></code> &quot;timeout&quot; ...
       Just x -&gt; do <code><a href="Control-Workflow.html#v:logWF">logWF</a></code> $ &quot;received&quot; ++ show x ...
 </pre></div></div><div class="top"><p class="src"><a name="v:getTimeoutFlag" class="def">getTimeoutFlag</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:TVar">TVar</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</p><div class="doc"><p>Start the timeout and return the flag to be monitored by <code><a href="Control-Workflow.html#v:waitUntilSTM">waitUntilSTM</a></code>
 This timeout is persistent. This means that the counter is initialized in the first call to getTimeoutFlag
 no matter if the workflow is restarted. The time during which the worlkflow has been stopped count also.
 Thus, the wait time can exceed the time between failures.
 when timeout is 0 means no timeout.</p></div></div><div class="top"><p class="src"><a name="v:withTimeout" class="def">withTimeout</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, Serialize a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Conc.html#t:STM">STM</a> a -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a)</p><div class="doc"><p>Return either the result of the STM conputation or Nothing in case of timeout.
 The computation can retry
 This timeout is persistent. This means that the counter is initialized in the first call to getTimeoutFlag
 no matter if the workflow is restarted. The time during which the worlkflow has been stopped count also.
 Thus, the wait time can exceed the time between failures.
 when timeout is 0 it means no timeout.</p></div></div><div class="top"><p class="src"><a name="v:withKillTimeout" class="def">withKillTimeout</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadCatch m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; m a -&gt; m a</p><div class="doc"><p>Executes a computation understanding that it is  inside the
 workflow  identified by <code><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#v:id">id</a></code>. If <code>f</code> finish after  <code>time</code>
 it genetates a <code><a href="Control-Workflow.html#v:Timeout">Timeout</a></code> exception which may result in the end of the workflow if the
 programmer does not catch it.
 If the workflow is restarted after <code>time2</code> has elapsed, the workflow
 will restart from the beginning. If not, it will restart after the last logged step.</p><p>Usually <code>time2&gt; time</code></p><p><code>time2=0</code> means <code>time2</code> is infinite
withKillTimeout :: CMC.MonadCatchIO m =&gt; String -&gt; Int -&gt; Integer -&gt; m a -&gt; m a
withKillTimeout id time time2 f = do
  tid &lt;- liftIO myThreadId
  tstart &lt;- liftIO getTimeSeconds
  let final= liftIO $ do
      tnow &lt;-  getTimeSeconds
      let ref = getDBRef $ keyResource $ stat0{wfName=id} -- !&gt; (keyResource $ stat0{wfName=id} )
      when (time2 /=0) . atomically $ do
         s &lt;- readDBRef ref <code>onNothing</code>  error ( &quot;withKillTimeout: Workflow not found: &quot;++ id)
         writeDBRef ref s{lastActive= tnow,timeout= Just (time2 - fromIntegral (tnow - tstart))}
      clearRunningFlag id
  let proc= do
      twatchdog &lt;- liftIO $ case time of
                       0 -&gt; return tid
                       _ -&gt; forkIO $ threadDelay (time * 1000000) &gt;&gt; throwTo tid Timeout
      r &lt;- f
      liftIO $ killThread twatchdog
      return r</p><p>proc   <code>finally</code>  final</p></div></div><h1 id="g:7">Trace logging</h1><div class="top"><p class="src"><a name="v:logWF" class="def">logWF</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m ()</p><div class="doc"><p>Log a message in the workflow history. I can be printed out with <code><a href="Control-Workflow.html#v:showHistory">showHistory</a></code>
 The message is printed in the standard output too</p></div></div><h1 id="g:8">Termination of workflows</h1><div class="top"><p class="src"><a name="v:clearRunningFlag" class="def">clearRunningFlag</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; [<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Char.html#t:Char">Char</a>] -&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Concurrent.html#t:ThreadId">ThreadId</a>), <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Concurrent.html#t:ThreadId">ThreadId</a>)</p></div><div class="top"><p class="src"><a name="v:killThreadWF" class="def">killThreadWF</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; m ()</p><div class="doc"><p>Kill the executing thread if not killed, but not its state.
 <code><a href="Control-Workflow.html#v:exec">exec</a></code> <code><a href="Control-Workflow.html#v:start">start</a></code> or <code><a href="Control-Workflow.html#v:restartWorkflows">restartWorkflows</a></code> will continue the workflow</p></div></div><div class="top"><p class="src"><a name="v:killWF" class="def">killWF</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; m ()</p><div class="doc"><p>Kill the process (if running) and drop it from the list of
  restart-able workflows. Its state history remains , so it can be inspected with
  <code>getWfHistory</code> <code><a href="Control-Workflow.html#v:showHistory">showHistory</a></code> and so on.</p><p>When the workflow has been called with no parameter, use: ()</p></div></div><div class="top"><p class="src"><a name="v:delWF" class="def">delWF</a> :: (<a href="Control-Workflow.html#t:Indexable">Indexable</a> a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; m ()</p><div class="doc"><p>Delete the WF from the running list and delete the workflow state from persistent storage.
  Use it to perform cleanup if the process has been killed.</p><p>When the workflow has been called with no parameter, use: ()</p></div></div><div class="top"><p class="src"><a name="v:killThreadWF1" class="def">killThreadWF1</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; m ()</p><div class="doc"><p>A version of <code>KillThreadWF</code> for workflows started wit no parameter by <code><a href="Control-Workflow.html#v:exec1">exec1</a></code></p></div></div><div class="top"><p class="src"><a name="v:delWFHistory" class="def">delWFHistory</a> :: <a href="Control-Workflow.html#t:Indexable">Indexable</a> a =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Delete the history of a workflow.
 Be sure that this WF has finished.</p></div></div><div class="top"><p class="src"><a name="v:delWFHistory1" class="def">delWFHistory1</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</p></div><h1 id="g:9">Log writing policy</h1><div class="top"><p class="src"><a name="v:syncWrite" class="def">syncWrite</a> :: <a href="Control-Workflow.html#t:SyncMode">SyncMode</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SyncMode" class="def">SyncMode</a> :: *</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Synchronous" class="def">Synchronous</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Asyncronous" class="def">Asyncronous</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:frecuency" class="def">frecuency</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:check" class="def">check</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:cacheSize" class="def">cacheSize</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr><tr><td class="src"><a name="v:SyncManual" class="def">SyncManual</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><h1 id="g:10">Print log history</h1><div class="top"><p class="src"><a name="v:showHistory" class="def">showHistory</a> :: <a href="Control-Workflow.html#t:Stat">Stat</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></p><div class="doc"><p>show the state changes along the workflow, that is, all the intermediate results</p></div></div><div class="top"><p class="src"><a name="v:isInRecover" class="def">isInRecover</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Workflow.html#t:Workflow">Workflow</a> m <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>True if the workflow in recovery mode, reading the log to recover the process state</p></div></div><h1 id="g:11">Low leve, internal use</h1><div class="top"><p class="src"><a name="v:runWF1" class="def">runWF1</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Control-Workflow-Stat.html#t:WF">WF</a> <a href="Control-Workflow.html#t:Stat">Stat</a> m b -&gt; <a href="Control-Workflow.html#t:Stat">Stat</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> -&gt; m b</p></div><div class="top"><p class="src"><a name="v:getState" class="def">getState</a> :: (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Control-Workflow.html#t:Indexable">Indexable</a> a, Serialize a, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; x -&gt; a -&gt; m (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Workflow.html#t:WFErrors">WFErrors</a> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>, x, <a href="Control-Workflow.html#t:Stat">Stat</a>))</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>